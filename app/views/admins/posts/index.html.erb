<h1 class="h3 mb-2 text-gray-800">Tất cả tin tức</h1>
<p class="mb-4">Xem danh sách tất cả tin tức</a>.</p>

<div class="table-responsive">
  <table class="table table-bordered table-striped" id="dataTable" width="100%" cellspacing="0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nguồn tin</th>
        <th>Thể loại</th>
        <th>Tiêu đề</th>
        <th>Mô tả</th>
        <th>Phát hành</th>
        <th>Trạng thái</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% @posts.each do |post| %>
        <tr>
          <td><%= post.id %></td>
          <td><%= post.source.name %></td>
          <td><%= post.category.name %></td>
          <td><%= truncate_title(post.title) %></td>
          <td><%= truncate_description(post.description) %></td>
          <td><%= post.publish_date %></td>
          <td><%= post.status ? 'Bình thường' : 'Khóa' %></td>
          <td width="120px">
            <% if post.status %>
              <%= link_to 'Khóa', toggle_admins_post_path(post), method: :put, class: "btn btn-success btn-sm mb-2 small" %>
            <% else %>
              <%= link_to 'Mở Khóa', toggle_admins_post_path(post), method: :put, class: "btn btn-success btn-sm mb-2 small" %>
            <% end %>
            <%= link_to 'Chi tiết', admins_post_path(post), class: "btn btn-primary btn-sm mb-2 small" %>
            <%= link_to 'Xóa', admins_post_path(post), method: :delete, class: "btn btn-danger btn-sm mb-2 small" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<%= paginate @posts %>